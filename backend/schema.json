{
    "openapi": "3.0.3",
    "info": {
        "title": "Climate Change App (Django REST Framework + React)",
        "version": "1.0.0",
        "description": "A climate change app for learning about climate change with data visualization."
    },
    "paths": {
        "/api/v1/climate/co2-data/": {
            "get": {
                "operationId": "climate_co2_data_retrieve",
                "description": "フロント用 API\n/climate/co2-data/",
                "tags": [
                    "climate"
                ],
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CO2DataByYear"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/climate/temperature/": {
            "get": {
                "operationId": "climate_temperature_retrieve",
                "description": "地域・年ごとの気温データを返します。upper, lower, global_average を含みます。",
                "summary": "気温データ取得",
                "tags": [
                    "Temperature"
                ],
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "description": "1年分の気温データ構造",
                                            "properties": {
                                                "year": {
                                                    "type": "integer"
                                                },
                                                "upper": {
                                                    "type": "number",
                                                    "format": "double",
                                                    "nullable": true
                                                },
                                                "lower": {
                                                    "type": "number",
                                                    "format": "double",
                                                    "nullable": true
                                                },
                                                "global_average": {
                                                    "type": "number",
                                                    "format": "double",
                                                    "nullable": true
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/dj-rest-auth/login/": {
            "post": {
                "operationId": "dj_rest_auth_login_create",
                "description": "Check the credentials and return the REST Token\nif the credentials are valid and authenticated.\nCalls Django Auth login method to register User ID\nin Django session framework\n\nAccept the following POST parameters: username, password\nReturn the REST Framework Token Object's key.",
                "tags": [
                    "dj-rest-auth"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Login"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/Login"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Login"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    },
                    {}
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/JWT"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/dj-rest-auth/logout/": {
            "post": {
                "operationId": "dj_rest_auth_logout_create",
                "description": "Calls Django logout method and delete the Token object\nassigned to the current User object.\n\nAccepts/Returns nothing.",
                "tags": [
                    "dj-rest-auth"
                ],
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    },
                    {}
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestAuthDetail"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/dj-rest-auth/password/change/": {
            "post": {
                "operationId": "dj_rest_auth_password_change_create",
                "description": "Calls Django Auth SetPasswordForm save method.\n\nAccepts the following POST parameters: new_password1, new_password2\nReturns the success/fail message.",
                "tags": [
                    "dj-rest-auth"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PasswordChange"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/PasswordChange"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/PasswordChange"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestAuthDetail"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/dj-rest-auth/password/reset/": {
            "post": {
                "operationId": "dj_rest_auth_password_reset_create",
                "description": "Calls Django Auth PasswordResetForm save method.\n\nAccepts the following POST parameters: email\nReturns the success/fail message.",
                "tags": [
                    "dj-rest-auth"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PasswordReset"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/PasswordReset"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/PasswordReset"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    },
                    {}
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestAuthDetail"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/dj-rest-auth/password/reset/confirm/": {
            "post": {
                "operationId": "dj_rest_auth_password_reset_confirm_create",
                "description": "Password reset e-mail link is confirmed, therefore\nthis resets the user's password.\n\nAccepts the following POST parameters: token, uid,\n    new_password1, new_password2\nReturns the success/fail message.",
                "tags": [
                    "dj-rest-auth"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PasswordResetConfirm"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/PasswordResetConfirm"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/PasswordResetConfirm"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    },
                    {}
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestAuthDetail"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/dj-rest-auth/registration/": {
            "post": {
                "operationId": "dj_rest_auth_registration_create",
                "description": "Registers a new user.\n\nAccepts the following POST parameters: username, email, password1, password2.",
                "tags": [
                    "dj-rest-auth"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Register"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/Register"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Register"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    },
                    {}
                ],
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/JWT"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/dj-rest-auth/registration/resend-email/": {
            "post": {
                "operationId": "dj_rest_auth_registration_resend_email_create",
                "description": "Resends another email to an unverified email.\n\nAccepts the following POST parameter: email.",
                "tags": [
                    "dj-rest-auth"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ResendEmailVerification"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/ResendEmailVerification"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/ResendEmailVerification"
                            }
                        }
                    }
                },
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    },
                    {}
                ],
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestAuthDetail"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/dj-rest-auth/registration/verify-email/": {
            "post": {
                "operationId": "dj_rest_auth_registration_verify_email_create",
                "description": "Verifies the email associated with the provided key.\n\nAccepts the following POST parameter: key.",
                "tags": [
                    "dj-rest-auth"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/VerifyEmail"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/VerifyEmail"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/VerifyEmail"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    },
                    {}
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestAuthDetail"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/dj-rest-auth/token/refresh/": {
            "post": {
                "operationId": "dj_rest_auth_token_refresh_create",
                "description": "Takes a refresh type JSON web token and returns an access type JSON web\ntoken if the refresh token is valid.",
                "tags": [
                    "dj-rest-auth"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TokenRefresh"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/TokenRefresh"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/TokenRefresh"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TokenRefresh"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/dj-rest-auth/token/verify/": {
            "post": {
                "operationId": "dj_rest_auth_token_verify_create",
                "description": "Takes a token and indicates if it is valid.  This view provides no\ninformation about a token's fitness for a particular use.",
                "tags": [
                    "dj-rest-auth"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TokenVerify"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/TokenVerify"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/TokenVerify"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TokenVerify"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/dj-rest-auth/user/": {
            "get": {
                "operationId": "dj_rest_auth_user_retrieve",
                "description": "Reads and updates UserModel fields\nAccepts GET, PUT, PATCH methods.\n\nDefault accepted fields: username, first_name, last_name\nDefault display fields: pk, username, email, first_name, last_name\nRead-only fields: pk, email\n\nReturns UserModel fields.",
                "tags": [
                    "dj-rest-auth"
                ],
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserDetails"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            },
            "put": {
                "operationId": "dj_rest_auth_user_update",
                "description": "Reads and updates UserModel fields\nAccepts GET, PUT, PATCH methods.\n\nDefault accepted fields: username, first_name, last_name\nDefault display fields: pk, username, email, first_name, last_name\nRead-only fields: pk, email\n\nReturns UserModel fields.",
                "tags": [
                    "dj-rest-auth"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UserDetails"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/UserDetails"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/UserDetails"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserDetails"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            },
            "patch": {
                "operationId": "dj_rest_auth_user_partial_update",
                "description": "Reads and updates UserModel fields\nAccepts GET, PUT, PATCH methods.\n\nDefault accepted fields: username, first_name, last_name\nDefault display fields: pk, username, email, first_name, last_name\nRead-only fields: pk, email\n\nReturns UserModel fields.",
                "tags": [
                    "dj-rest-auth"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PatchedUserDetails"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/PatchedUserDetails"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/PatchedUserDetails"
                            }
                        }
                    }
                },
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserDetails"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/health/ping/": {
            "get": {
                "operationId": "health_ping_retrieve",
                "description": "ウォームアップ用 ping",
                "tags": [
                    "health"
                ],
                "security": [
                    {
                        "jwtAuth": []
                    },
                    {
                        "jwtHeaderAuth": []
                    },
                    {
                        "jwtCookieAuth": []
                    },
                    {}
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Ping"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "CO2DataByYear": {
                "type": "object",
                "description": "年ごとの国別CO2排出量を返すSerializer。\n\nco2_data の構造例:\n{\n    \"2000\": { \"JPN\": 1000.0, \"USA\": 5000.0 },\n    \"2001\": { \"JPN\": 1100.0, \"USA\": 5200.0 }\n}\n- 外側のキー: 年（year）\n- 内側のキー: 地域コード\n- 内側の値: CO2排出量（tonnes）",
                "properties": {
                    "co2_data": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "number",
                                "format": "double"
                            }
                        },
                        "description": "年ごとの国別CO2排出量。例: { '2000': {'JPN': 1000.0, 'USA': 5000.0} }"
                    }
                },
                "required": [
                    "co2_data"
                ]
            },
            "JWT": {
                "type": "object",
                "description": "Serializer for JWT authentication.",
                "properties": {
                    "access": {
                        "type": "string"
                    },
                    "refresh": {
                        "type": "string"
                    },
                    "user": {
                        "$ref": "#/components/schemas/UserDetails"
                    }
                },
                "required": [
                    "access",
                    "refresh",
                    "user"
                ]
            },
            "Login": {
                "type": "object",
                "properties": {
                    "username": {
                        "type": "string"
                    },
                    "email": {
                        "type": "string",
                        "format": "email"
                    },
                    "password": {
                        "type": "string"
                    }
                },
                "required": [
                    "password"
                ]
            },
            "PasswordChange": {
                "type": "object",
                "properties": {
                    "new_password1": {
                        "type": "string",
                        "maxLength": 128
                    },
                    "new_password2": {
                        "type": "string",
                        "maxLength": 128
                    }
                },
                "required": [
                    "new_password1",
                    "new_password2"
                ]
            },
            "PasswordReset": {
                "type": "object",
                "description": "Serializer for requesting a password reset e-mail.",
                "properties": {
                    "email": {
                        "type": "string",
                        "format": "email"
                    }
                },
                "required": [
                    "email"
                ]
            },
            "PasswordResetConfirm": {
                "type": "object",
                "description": "Serializer for confirming a password reset attempt.",
                "properties": {
                    "new_password1": {
                        "type": "string",
                        "maxLength": 128
                    },
                    "new_password2": {
                        "type": "string",
                        "maxLength": 128
                    },
                    "uid": {
                        "type": "string"
                    },
                    "token": {
                        "type": "string"
                    }
                },
                "required": [
                    "new_password1",
                    "new_password2",
                    "token",
                    "uid"
                ]
            },
            "PatchedUserDetails": {
                "type": "object",
                "description": "User model w/o password",
                "properties": {
                    "pk": {
                        "type": "integer",
                        "readOnly": true,
                        "title": "ID"
                    },
                    "username": {
                        "type": "string",
                        "title": "ユーザー名",
                        "description": "この項目は必須です。半角アルファベット、半角数字、@/./+/-/_ で150文字以下にしてください。",
                        "pattern": "^[\\w.@+-]+$",
                        "maxLength": 150
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "readOnly": true,
                        "title": "メールアドレス"
                    },
                    "first_name": {
                        "type": "string",
                        "title": "名",
                        "maxLength": 150
                    },
                    "last_name": {
                        "type": "string",
                        "title": "姓",
                        "maxLength": 150
                    }
                }
            },
            "Ping": {
                "type": "object",
                "properties": {
                    "message": {
                        "type": "string"
                    }
                },
                "required": [
                    "message"
                ]
            },
            "Register": {
                "type": "object",
                "properties": {
                    "username": {
                        "type": "string",
                        "maxLength": 150,
                        "minLength": 1
                    },
                    "email": {
                        "type": "string",
                        "format": "email"
                    },
                    "password1": {
                        "type": "string",
                        "writeOnly": true
                    },
                    "password2": {
                        "type": "string",
                        "writeOnly": true
                    }
                },
                "required": [
                    "password1",
                    "password2",
                    "username"
                ]
            },
            "ResendEmailVerification": {
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string",
                        "format": "email"
                    }
                }
            },
            "RestAuthDetail": {
                "type": "object",
                "properties": {
                    "detail": {
                        "type": "string",
                        "readOnly": true
                    }
                },
                "required": [
                    "detail"
                ]
            },
            "TokenRefresh": {
                "type": "object",
                "properties": {
                    "access": {
                        "type": "string",
                        "readOnly": true
                    },
                    "refresh": {
                        "type": "string"
                    }
                },
                "required": [
                    "access",
                    "refresh"
                ]
            },
            "TokenVerify": {
                "type": "object",
                "properties": {
                    "token": {
                        "type": "string",
                        "writeOnly": true
                    }
                },
                "required": [
                    "token"
                ]
            },
            "UserDetails": {
                "type": "object",
                "description": "User model w/o password",
                "properties": {
                    "pk": {
                        "type": "integer",
                        "readOnly": true,
                        "title": "ID"
                    },
                    "username": {
                        "type": "string",
                        "title": "ユーザー名",
                        "description": "この項目は必須です。半角アルファベット、半角数字、@/./+/-/_ で150文字以下にしてください。",
                        "pattern": "^[\\w.@+-]+$",
                        "maxLength": 150
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "readOnly": true,
                        "title": "メールアドレス"
                    },
                    "first_name": {
                        "type": "string",
                        "title": "名",
                        "maxLength": 150
                    },
                    "last_name": {
                        "type": "string",
                        "title": "姓",
                        "maxLength": 150
                    }
                },
                "required": [
                    "email",
                    "pk",
                    "username"
                ]
            },
            "VerifyEmail": {
                "type": "object",
                "properties": {
                    "key": {
                        "type": "string",
                        "writeOnly": true
                    }
                },
                "required": [
                    "key"
                ]
            }
        },
        "securitySchemes": {
            "jwtAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT"
            },
            "jwtCookieAuth": {
                "type": "apiKey",
                "in": "cookie",
                "name": "my-app-auth"
            },
            "jwtHeaderAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT"
            }
        }
    }
}